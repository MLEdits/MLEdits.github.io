<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            item = self.reader.read(self.read_timeout_millis)
            if item is not None:
                msg_data = item.body()
                <a id="change">msg = pickle.loads(msg_data)</a>
                self.processor.process(msg)
        self.stopped = True

    def cancel_task(self):</code></pre><h3>After Change</h3><pre><code class='java'>
            item = self.reader.read(self.read_timeout_millis)
            if item is not None:
                msg_data = item.body()
                <a id="change">type_id = msg_data[:1]</a>
                <a id="change">if (type_id == serialization._PYTHON_TYPE_ID):
                    msg = self.python_serializer.deserialize(msg_data[1:])
                else:
                    msg = self.cross_lang_serializer.deserialize(msg_data[1:])
               </a> self.processor.process(msg)
        self.stopped = True

    def cancel_task(self):</code></pre>