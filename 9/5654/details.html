<html><h3>b0bdcbfdabcae1933980925c8f2438cbb2359a49,imgaug/augmenters/geometric.py,ElasticTransformation,_augment_images,#ElasticTransformation#Any#Any#Any#Any#,3127
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        rss, alphas, sigmas, orders, cvals, modes = self._draw_samples(
            nb_images, random_state)

        <a id="change">for i, image in enumerate(images):
            image = images[i]
            min_value, _center_value, max_value = \
                iadt.get_value_range_of_dtype(image.dtype)
            cval = cvals[i]
            cval = max(min(cval, max_value), min_value)

            input_dtype = image.dtype
            if image.dtype == np.dtype(np.float16):
                image = image.astype(np.float32)

            dx, dy = self.generate_shift_maps(
                image.shape[0:2],
                alpha=alphas[i],
                sigma=sigmas[i],
                random_state=rss[i]
            )
            image_aug = self.map_coordinates(
                image,
                dx,
                dy,
                order=orders[i],
                cval=cval,
                mode=modes[i]
            )

            if image.dtype != input_dtype:
                image_aug = iadt.restore_dtypes_(image_aug, input_dtype)
            result[i] = image_aug

       </a> return result

    def _augment_heatmaps(self, heatmaps, random_state, parents, hooks):
        nb_heatmaps = len(heatmaps)</code></pre><h3>After Change</h3><pre><code class='java'>
        nb_images = len(images)
        samples = self._draw_samples(nb_images, random_state)

        gen = <a id="change">enumerate(zip(images, samples.alphas, samples.sigmas,
                            samples.cvals, samples.modes, samples.orders,
                            samples.random_states))</a>
        <a id="change">for i, (image, alpha, sigma, cval, mode, order, random_state_i) in gen:
            min_value, _center_value, max_value = \
                iadt.get_value_range_of_dtype(image.dtype)
            cval = max(min(cval, max_value), min_value)

            input_dtype = image.dtype
            if image.dtype.name == "float16":
                image = image.astype(np.float32)

            dx, dy = self._generate_shift_maps(
                image.shape[0:2],
                alpha=alpha, sigma=sigma, random_state=random_state_i)

            image_aug = self._map_coordinates(
                image, dx, dy, order=order, cval=cval, mode=mode)

            if image.dtype.name != input_dtype.name:
                image_aug = iadt.restore_dtypes_(image_aug, input_dtype)
            result[i] = image_aug

       </a> return result

    def _augment_heatmaps(self, heatmaps, random_state, parents, hooks):
        return self._augment_hms_and_segmaps(</code></pre><img src="23937580.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aleju/imgaug/commit/b0bdcbfdabcae1933980925c8f2438cbb2359a49#diff-52655f854e5777e8c8477b4edeaf9edc204e433b24866740d25a2d5ddc4d5509L3141' target='_blank'>Link</a></div><div id='project'> Project Name: aleju/imgaug</div><div id='commit'> Commit Name: b0bdcbfdabcae1933980925c8f2438cbb2359a49</div><div id='time'> Time: 2019-09-13</div><div id='author'> Author: kontakt@ajung.name</div><div id='file'> File Name: imgaug/augmenters/geometric.py</div><div id='class'> Class Name: ElasticTransformation</div><div id='method'> Method Name: _augment_images</div><BR><BR><div id='link'><a href='https://github.com/aleju/imgaug/commit/b0bdcbfdabcae1933980925c8f2438cbb2359a49#diff-52655f854e5777e8c8477b4edeaf9edc204e433b24866740d25a2d5ddc4d5509L3311' target='_blank'>Link</a></div><div id='project'> Project Name: aleju/imgaug</div><div id='commit'> Commit Name: b0bdcbfdabcae1933980925c8f2438cbb2359a49</div><div id='time'> Time: 2019-09-13</div><div id='author'> Author: kontakt@ajung.name</div><div id='file'> File Name: imgaug/augmenters/geometric.py</div><div id='class'> Class Name: ElasticTransformation</div><div id='method'> Method Name: _augment_keypoints</div><BR><BR><div id='link'><a href='https://github.com/uber/ludwig/commit/5667af96dade79ef77194d519182d4989494b3a4#diff-93083b0167fe4d5d7228a93acefc4045ce7e5320a4203d876bb8400637a88123L205' target='_blank'>Link</a></div><div id='project'> Project Name: uber/ludwig</div><div id='commit'> Commit Name: 5667af96dade79ef77194d519182d4989494b3a4</div><div id='time'> Time: 2019-08-25</div><div id='author'> Author: smiryala@uber.com</div><div id='file'> File Name: ludwig/features/image_feature.py</div><div id='class'> Class Name: ImageBaseFeature</div><div id='method'> Method Name: add_feature_data</div><BR><BR><div id='link'><a href='https://github.com/uber/ludwig/commit/7d9db23a389499c2764fb850cd19f853cc3e8565#diff-93083b0167fe4d5d7228a93acefc4045ce7e5320a4203d876bb8400637a88123L205' target='_blank'>Link</a></div><div id='project'> Project Name: uber/ludwig</div><div id='commit'> Commit Name: 7d9db23a389499c2764fb850cd19f853cc3e8565</div><div id='time'> Time: 2019-08-08</div><div id='author'> Author: smiryala@uber.com</div><div id='file'> File Name: ludwig/features/image_feature.py</div><div id='class'> Class Name: ImageBaseFeature</div><div id='method'> Method Name: add_feature_data</div><BR>