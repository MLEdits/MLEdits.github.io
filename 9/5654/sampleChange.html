<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        rss, alphas, sigmas, orders, cvals, modes = self._draw_samples(
            nb_images, random_state)

        <a id="change">for i, image in enumerate(images):
            image = images[i]
            min_value, _center_value, max_value = \
                iadt.get_value_range_of_dtype(image.dtype)
            cval = cvals[i]
            cval = max(min(cval, max_value), min_value)

            input_dtype = image.dtype
            if image.dtype == np.dtype(np.float16):
                image = image.astype(np.float32)

            dx, dy = self.generate_shift_maps(
                image.shape[0:2],
                alpha=alphas[i],
                sigma=sigmas[i],
                random_state=rss[i]
            )
            image_aug = self.map_coordinates(
                image,
                dx,
                dy,
                order=orders[i],
                cval=cval,
                mode=modes[i]
            )

            if image.dtype != input_dtype:
                image_aug = iadt.restore_dtypes_(image_aug, input_dtype)
            result[i] = image_aug

       </a> return result

    def _augment_heatmaps(self, heatmaps, random_state, parents, hooks):
        nb_heatmaps = len(heatmaps)</code></pre><h3>After Change</h3><pre><code class='java'>
        nb_images = len(images)
        samples = self._draw_samples(nb_images, random_state)

        gen = <a id="change">enumerate(zip(images, samples.alphas, samples.sigmas,
                            samples.cvals, samples.modes, samples.orders,
                            samples.random_states))</a>
        <a id="change">for i, (image, alpha, sigma, cval, mode, order, random_state_i) in gen:
            min_value, _center_value, max_value = \
                iadt.get_value_range_of_dtype(image.dtype)
            cval = max(min(cval, max_value), min_value)

            input_dtype = image.dtype
            if image.dtype.name == "float16":
                image = image.astype(np.float32)

            dx, dy = self._generate_shift_maps(
                image.shape[0:2],
                alpha=alpha, sigma=sigma, random_state=random_state_i)

            image_aug = self._map_coordinates(
                image, dx, dy, order=order, cval=cval, mode=mode)

            if image.dtype.name != input_dtype.name:
                image_aug = iadt.restore_dtypes_(image_aug, input_dtype)
            result[i] = image_aug

       </a> return result

    def _augment_heatmaps(self, heatmaps, random_state, parents, hooks):
        return self._augment_hms_and_segmaps(</code></pre>