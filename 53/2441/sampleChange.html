<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        logging.info("ConcatLayer %s: axis: %d" % (self.name, concat_dim))

        <a id="change">self.all_layers = list(layers[0].all_layers)</a>
        <a id="change">self.all_params = list(layers[0].all_params)</a>
        <a id="change">self.all_drop = dict(layers[0].all_drop)</a>

        <a id="change">for i in range(1, len(layers)):
            self.all_layers.extend(list(layers[i].all_layers))
            self.all_params.extend(list(layers[i].all_params))
            self.all_drop.update(dict(layers[i].all_drop))

       </a> <a id="change">self.all_layers = list_remove_repeat(self.all_layers)</a>
        <a id="change">self.all_params = list_remove_repeat(self.all_params)</a>


class ElementwiseLayer(Layer):
    A layer that combines multiple :class:`Layer` that have the same output shapes</code></pre><h3>After Change</h3><pre><code class='java'>
        for l in layers:
            self.inputs.append(l.outputs)
        try:  &#47&#47 TF1.0
            <a id="change">self.outputs</a> = tf.concat(self.inputs, concat_dim, name=name)
        except Exception:  &#47&#47 TF0.12
            self.outputs = tf.concat(concat_dim, self.inputs, name=name)

        logging.info("ConcatLayer %s: axis: %d" % (self.name, concat_dim))

        &#47&#47 self.all_layers = list(layers[0].all_layers)
        &#47&#47 self.all_params = list(layers[0].all_params)
        &#47&#47 self.all_drop = dict(layers[0].all_drop)
        &#47&#47
        &#47&#47 for i in range(1, len(layers)):
        &#47&#47     self.all_layers.extend(list(layers[i].all_layers))
        &#47&#47     self.all_params.extend(list(layers[i].all_params))
        &#47&#47     self.all_drop.update(dict(layers[i].all_drop))
        &#47&#47
        &#47&#47 self.all_layers = list_remove_repeat(self.all_layers)
        &#47&#47 self.all_params = list_remove_repeat(self.all_params)

        <a id="change">self.all_layers.append(self.outputs)</a>


class ElementwiseLayer(Layer):
    A layer that combines multiple :class:`Layer` that have the same output shapes</code></pre>