<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    REQUIRED_AES = [&quotxmax&quot, &quotxmin&quot, &quotymax&quot, &quotymin&quot]

    def plot_layer(self, layer):
        <a id="change">layer</a> = {k: v for k, v in layer.items() if k in self.VALID_AES}
        layer.update(self.manual_aes)

        missing_aes = [aes for aes in self.REQUIRED_AES if aes not in layer]
        if missing_aes:
            msg = &quotgeom_rect requires the following missing aesthetics: {}&quot
            raise Exception(msg.format(&quot, &quot.join(missing_aes)))

        if &quotxmin&quot in layer:
            layer[&quotleft&quot] = layer[&quotxmin&quot]
            del layer[&quotxmin&quot]

        if &quotxmax&quot in layer:
            if isinstance(layer[&quotxmax&quot], list):
                xcoords = zip(layer[&quotleft&quot], layer[&quotxmax&quot])
                width = [xmax - xmin for xmin, xmax in xcoords]
            else:
                width = layer[&quotxmax&quot] - layer[&quotleft&quot]
            layer[&quotwidth&quot] = width
            del layer[&quotxmax&quot]

        if &quotymin&quot in layer:
            <a id="change">layer[&quotbottom&quot]</a> = layer[&quotymin&quot]
            del layer[&quotymin&quot]

        if &quotymax&quot in layer:
            if isinstance(layer[&quotymax&quot], list):
                ycoords = zip(layer[&quotbottom&quot], layer[&quotymax&quot])
                height = [ymax - ymin for ymin, ymax in ycoords]
            else:
                height = layer[&quotymax&quot] - layer[&quotbottom&quot]
            layer[&quotheight&quot] = height
            del layer[&quotymax&quot]

        if &quotcolor&quot in layer:
            layer[&quotedgecolor&quot] = layer[&quotcolor&quot]
            del layer[&quotcolor&quot]
        else:
            layer[&quotedgecolor&quot] = &quot&#47&#47333333&quot

        if &quotlinetype&quot in layer:
            layer[&quotlinestyle&quot] = layer[&quotlinetype&quot]
            del layer[&quotlinetype&quot]

        if &quotsize&quot in layer:
            <a id="change">layer[&quotlinewidth&quot]</a> = layer[&quotsize&quot]
            del layer[&quotsize&quot]

        if &quotfill&quot in layer:</code></pre><h3>After Change</h3><pre><code class='java'>
    REQUIRED_AES = [&quotxmax&quot, &quotxmin&quot, &quotymax&quot, &quotymin&quot]

    def plot_layer(self, layer):
        <a id="change">layer</a> = dict((k, v) for k, v in layer.items() if k in self.VALID_AES)
        layer.update(self.manual_aes)

        missing_aes = [aes for aes in self.REQUIRED_AES if aes not in layer]
        if missing_aes:
            msg = &quotgeom_rect requires the following missing aesthetics: {}&quot
            raise Exception(msg.format(&quot, &quot.join(missing_aes)))

        if &quotxmin&quot in layer:
            layer[&quotleft&quot] = layer[&quotxmin&quot]
            del layer[&quotxmin&quot]

        if &quotxmax&quot in layer:
            if isinstance(layer[&quotxmax&quot], list):
                xcoords = zip(layer[&quotleft&quot], layer[&quotxmax&quot])
                width = [xmax - xmin for xmin, xmax in xcoords]
            else:
                width = layer[&quotxmax&quot] - layer[&quotleft&quot]
            layer[&quotwidth&quot] = width
            del layer[&quotxmax&quot]

        if &quotymin&quot in layer:
            <a id="change">layer[&quotbottom&quot]</a> = layer[&quotymin&quot]
            del layer[&quotymin&quot]

        if &quotymax&quot in layer:
            if isinstance(layer[&quotymax&quot], list):
                ycoords = zip(layer[&quotbottom&quot], layer[&quotymax&quot])
                height = [ymax - ymin for ymin, ymax in ycoords]
            else:
                height = layer[&quotymax&quot] - layer[&quotbottom&quot]
            layer[&quotheight&quot] = height
            del layer[&quotymax&quot]

        if &quotcolor&quot in layer:
            layer[&quotedgecolor&quot] = layer[&quotcolor&quot]
            del layer[&quotcolor&quot]
        else:
            layer[&quotedgecolor&quot] = &quot&#47&#47333333&quot

        if &quotlinetype&quot in layer:
            layer[&quotlinestyle&quot] = layer[&quotlinetype&quot]
            del layer[&quotlinetype&quot]

        if &quotsize&quot in layer:
            <a id="change">layer[&quotlinewidth&quot]</a> = layer[&quotsize&quot]
            del layer[&quotsize&quot]

        if &quotfill&quot in layer:</code></pre>