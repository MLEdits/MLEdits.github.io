<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def _get_context(func):
    closure = (
        <a id="change">[cell.cell_contents for cell in func.__closure__]</a>
        if func.__closure__ is not None
        else None
    )
</code></pre><h3>After Change</h3><pre><code class='java'>


def _get_context(func):
    <a id="change">code = func.__code__</a>
    &#47&#47 Mapping from variable name to the value if we can resolve it.
    &#47&#47 Otherwise map to the name.
    <a id="change">cells = {}</a>
    <a id="change">for var in code.co_cellvars:
        cells[var] = var  &#47&#47 Instead of value, we use the name.
   </a> if <a id="change">code.co_freevars</a>:
        assert len(code.co_freevars) == len(func.__closure__)
        cells.update(zip(
            code.co_freevars,</code></pre>