<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    platform.system() == "Windows", reason="Failing on Windows.")
def test_spilling_not_done_for_pinned_object(tmp_path, shutdown_only):
    &#47&#47 Limit our object store to 75 MiB of memory.
    <a id="change">temp_folder = tmp_path / "spill"</a>
    <a id="change">temp_folder.mkdir()</a>
    ray.init(
        object_store_memory=75 * 1024 * 1024,
        _system_config={
            "max_io_workers": 4,
            "automatic_object_spilling_enabled": True,
            "object_store_full_delay_ms": 100,
            "object_spilling_config": <a id="change">json.dumps({
                "type": "filesystem",
                "params": {
                    "directory_path": str(temp_folder)
                }
            })</a>,
            "min_spilling_size": 0,
        })
    arr = np.random.rand(5 * 1024 * 1024)  &#47&#47 40 MB</code></pre><h3>After Change</h3><pre><code class='java'>
def test_spilling_not_done_for_pinned_object(object_spilling_config,
                                             shutdown_only):
    &#47&#47 Limit our object store to 75 MiB of memory.
    <a id="change">object_spilling_config, temp_folder = object_spilling_config</a>
    ray.init(
        object_store_memory=75 * 1024 * 1024,
        _system_config={
            "max_io_workers": 4,</code></pre>