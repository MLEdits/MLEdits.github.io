<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        logits = outputs.rnn_output
        mask = tf.sequence_mask(
            generated_sequence_lengths,
            maxlen=<a id="change">logits.shape[1]</a>,
            dtype=tf.float32
        )
        logits = logits * mask[:, :, tf.newaxis]</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 append a trailing 0, useful for
        &#47&#47 those datapoints that reach maximum length
        &#47&#47 and don&quott have a eos at the end
        <a id="change">logits = tf.pad(
            logits,
            [[0, 0], [0, 1], [0, 0]]
        )</a>

        return logits  &#47&#47 , outputs, final_state, generated_sequence_lengths

    def decoder_beam_search(</code></pre>