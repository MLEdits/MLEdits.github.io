<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 generate some digits to display
        num_rows = 10
        noise = <a id="change">np.random.uniform(-1, 1, (num_rows * num_classes, latent_size))</a>

        sampled_labels = np.array([
            [i] * num_rows for i in range(num_classes)
        ]).reshape(-1, 1)

        &#47&#47 get a batch to display
        generated_images = generator.predict(
            [noise, sampled_labels], verbose=0)

        &#47&#47 prepare real images sorted by class label
        real_labels = y_train[(epoch - 1) * num_rows * num_classes:
                              epoch * num_rows * num_classes]
        indices = np.argsort(real_labels, axis=0)
        real_images = x_train[(epoch - 1) * num_rows * num_classes:
                              epoch * num_rows * num_classes][indices]

        &#47&#47 display generated images, white separator, real images
        img = np.concatenate(
            (generated_images,
             np.repeat(np.ones_like(x_train[:1]), num_rows, axis=0),
             real_images))

        &#47&#47 arrange them into a grid
        <a id="change">img</a> = (np.concatenate([r.reshape(-1, 28)
                               for r in np.split(img, 2 * num_classes + 1)
                               ], axis=-1) * 127.5 + 127.5).astype(np.uint8)
</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 generate some digits to display
        num_rows = 40
        noise = np.tile(<a id="change">np.random.uniform(-1, 1, (num_rows, latent_size))</a>,
                        (num_classes, 1))

        sampled_labels = np.array([
            [i] * num_rows for i in range(num_classes)
        ]).reshape(-1, 1)

        &#47&#47 get a batch to display
        generated_images = generator.predict(
            [noise, sampled_labels], verbose=0)

        &#47&#47 prepare real images sorted by class label
        real_labels = y_train[(epoch - 1) * num_rows * num_classes:
                              epoch * num_rows * num_classes]
        indices = np.argsort(real_labels, axis=0)
        real_images = x_train[(epoch - 1) * num_rows * num_classes:
                              epoch * num_rows * num_classes][indices]

        &#47&#47 display generated images, white separator, real images
        img = np.concatenate(
            (generated_images,
             np.repeat(np.ones_like(x_train[:1]), num_rows, axis=0),
             real_images))

        &#47&#47 arrange them into a grid
        <a id="change">img</a> = (np.concatenate([r.reshape(-1, 28)
                               for r in np.split(img, 2 * num_classes + 1)
                               ], axis=-1) * 127.5 + 127.5).astype(np.uint8)
</code></pre>