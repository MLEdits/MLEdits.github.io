<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        query = input(&quotyour question: &quot)
        query_vec = bc.encode([query])
        score = scipy.spatial.distance.cdist(doc_vecs, query_vec, &quotcosine&quot)
        <a id="change">print(score)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
        query = input(colored(&quotyour question: &quot, &quotgreen&quot))
        query_vec = bc.encode([query])[0]
        &#47&#47 compute simple dot product as score
        <a id="change">score = np.sum(query_vec * doc_vecs, axis=1)</a>
        topk_idx = np.argsort(score)[::-1][:topk]
        print(&quottop %d questions similar to&quot % topk + colored(query, &quotgreen&quot))
        for idx in topk_idx:
            print(&quot&gt; %s\t%s&quot % (colored(&quot%.1f&quot % score[idx], &quotcyan&quot), colored(docs[idx], &quotyellow&quot)))</code></pre>