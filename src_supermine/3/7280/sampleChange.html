<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        indices: List[int] = []
        type_ids: List[int] = []
        <a id="change">for token in tokens:
            if getattr(token, "text_id", None) is not None:
                &#47&#47 `text_id` being set on the token means that we aren&quott using the vocab, we just use
                &#47&#47 this id instead. Id comes from the pretrained vocab.
                &#47&#47 It is computed in PretrainedTransformerTokenizer.
                indices.append(token.text_id)
            else:
                raise KeyError(
                    "Using PretrainedTransformerIndexer but field text_id is not set"
                    f" for the following token: {token.text}"
                )

            if type_ids is not None and getattr(token, "type_id", None) is not None:
                type_ids.append(token.type_id)
            else:
                type_ids = None

        &#47&#47 The mask has 1 for real tokens and 0 for padding tokens. Only real tokens are attended to.
       </a> mask = [1] * len(indices)

        result = {"token_ids": indices, "mask": mask}
        if type_ids is not None:</code></pre><h3>After Change</h3><pre><code class='java'>
        if type_ids is not None:
            output["type_ids"] = type_ids

        <a id="change">return self._postprocess_output(output)</a>

    def _extract_token_and_type_ids(
        self, tokens: List[Token]
    ) -&gt; Tuple[List[int], Optional[List[int]]]:</code></pre>