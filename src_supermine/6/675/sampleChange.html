<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        labels_to_frame = defaultdict(set)
        for i,f in enumerate(df_list):
            if f.name:
                <a id="change">for l in f.subdir.split(&quot/&quot)[1:]:
                    if l.strip():
                        labels_to_frame[l].add((df_ids[i].id,f.frame_index))
       </a> label_list = []
        &#47&#47 for l in labels_to_frame:
        &#47&#47     dl, _ = Label.objects.get_or_create(name=l,set="Directory")
        &#47&#47     for fpk,frame_index in labels_to_frame[l]:</code></pre><h3>After Change</h3><pre><code class='java'>
                a.video_id = self.dvideo.pk
                a.frame_id = df_ids[i].id
                a.frame_index = f.frame_index
                <a id="change">a.metadata = {&quotlabels&quot:list({ l.strip() for l in f.subdir.split(&quot/&quot)[1:] if l.strip() })}</a>
                a.region_type = a.ANNOTATION
                a.object_name = &quotdirectory_labels&quot
                a.event_id = event.pk
                regions.append(a)</code></pre>