<html><h3>c15e52623156084fbd74727dd3f34df2825e2ad3,deeppavlov/core/common/cross_validation.py,,calc_cv_score,#Any#Any#Any#Any#Any#,85
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    config, dirs_for_saved_models = change_savepath_for_model(config)

    <a id="change">target_metrics = config[&quottrain&quot][&quotmetrics&quot]</a>
    cv_score = <a id="change">OrderedDict((k, []) for k in target_metrics)</a>
    for data_i in generate_train_valid(data, n_folds=n_folds, is_loo=is_loo):
        iterator = get_iterator_from_config(config, data_i)
        create_dirs_to_save_models(dirs_for_saved_models)
        score = train_evaluate_model_from_config(config, iterator=iterator)</code></pre><h3>After Change</h3><pre><code class='java'>
        score = train_evaluate_model_from_config(config, iterator=iterator)
        delete_dir_for_saved_models(dirs_for_saved_models)
        for key, value in score[&quotvalid&quot].items():
            <a id="change">if key not in cv_score:
                cv_score[key] = []
           </a> cv_score[key].append(value)

    for key, value in cv_score.items():
        cv_score[key] = np.mean(value)</code></pre><img src="39333353.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepmipt/DeepPavlov/commit/c15e52623156084fbd74727dd3f34df2825e2ad3#diff-f90c0ceafc3071d5e27c4a5fd2e04e9cf5a1cad88444ee131b0a69c500789e50L88' target='_blank'>Link</a></div><div id='project'> Project Name: deepmipt/DeepPavlov</div><div id='commit'> Commit Name: c15e52623156084fbd74727dd3f34df2825e2ad3</div><div id='time'> Time: 2018-10-29</div><div id='author'> Author: yoptar@gmail.com</div><div id='file'> File Name: deeppavlov/core/common/cross_validation.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: calc_cv_score</div><BR><BR><div id='link'><a href='https://github.com/chainer/chainercv/commit/ec70c8f39d759dfe733286a41c2f49bf6258878c#diff-474ffa12a7c9eb65ef579cd4249167099e5474002c4663b1096002a301d0a23fL60' target='_blank'>Link</a></div><div id='project'> Project Name: chainer/chainercv</div><div id='commit'> Commit Name: ec70c8f39d759dfe733286a41c2f49bf6258878c</div><div id='time'> Time: 2017-07-14</div><div id='author'> Author: yuyuniitani@gmail.com</div><div id='file'> File Name: chainercv/links/model/sequential_feature_extractor.py</div><div id='class'> Class Name: SequentialFeatureExtractor</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/deepmind/sonnet/commit/4813caaade69050a44979ed878298e3ae89b08eb#diff-c24a763f6719bcf1e7aafe6c02a3f3d2219389ca498ec27481e3598a33d8677cL67' target='_blank'>Link</a></div><div id='project'> Project Name: deepmind/sonnet</div><div id='commit'> Commit Name: 4813caaade69050a44979ed878298e3ae89b08eb</div><div id='time'> Time: 2017-08-07</div><div id='author'> Author: noreply@google.com</div><div id='file'> File Name: sonnet/python/ops/nest.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _iterable_like</div><BR>