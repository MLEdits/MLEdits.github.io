<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            writer = tf.python_io.TFRecordWriter(record_file)

            total_examples = 0
            <a id="change">for num, image_id in enumerate(self.dataset.load_split(split)):
                if not self.only_filename or self.only_filename == image_id:
                    &#47&#47 Using limit on classes it&quots possible for an
                    &#47&#47 image_to_example to return None (because no classes
                    &#47&#47 match).
                    example = self.dataset.image_to_example(
                        self.classes, image_id
                    )
                    if example:
                        total_examples += 1
                        writer.write(example.SerializeToString())

                stop_saving = (
                    self.limit_examples and
                    total_examples == self.limit_examples
                )
                if stop_saving:
                    break

           </a> tf.logging.info(
                &quotSaved split {} to "{}"&quot.format(split, record_file)
            )
</code></pre><h3>After Change</h3><pre><code class='java'>
        for split in splits:
            split_size = self.dataset.get_split_size(split)
            if self.limit_examples:
                <a id="change">split_size = min(self.limit_examples, split_size)</a>

            tf.logging.info(&quotConverting split = {}&quot.format(split))
            record_file = self.get_record_file(split)
            writer = tf.python_io.TFRecordWriter(record_file)</code></pre>