<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    while True:
        query = input(&quotyour question: &quot)
        query_vec = <a id="change">bc.encode([query])</a>
        score = scipy.spatial.distance.cdist(doc_vecs, query_vec, &quotcosine&quot)
        print(score)
</code></pre><h3>After Change</h3><pre><code class='java'>

    while True:
        query = input(colored(&quotyour question: &quot, &quotgreen&quot))
        query_vec = <a id="change">bc</a>.encode([query])[0]
        &#47&#47 compute simple dot product as score
        score = np.sum(query_vec * doc_vecs, axis=1)
        <a id="change">topk_idx = np.argsort(score)[::-1][:topk]</a>
        print(&quottop %d questions similar to&quot % topk + colored(query, &quotgreen&quot))
        for idx in topk_idx:
            print(&quot&gt; %s\t%s&quot % (colored(&quot%.1f&quot % score[idx], &quotcyan&quot), colored(docs[idx], &quotyellow&quot)))
</code></pre>