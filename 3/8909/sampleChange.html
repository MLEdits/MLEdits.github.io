<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                if policy_id not in self.policies:
                    continue

                policy = <a id="change">self.policies[policy_id]</a>
                policy._debug_vars()
                tuples = policy._get_loss_inputs_dict(
                    batch, shuffle=self.shuffle_sequences)
                data_keys = [ph for _, ph in policy._loss_inputs]</code></pre><h3>After Change</h3><pre><code class='java'>
        metrics.info[LEARNER_INFO] = fetches
        if self.workers.remote_workers():
            with metrics.timers[WORKER_UPDATE_TIMER]:
                <a id="change">weights = ray.put(self.workers.local_worker().get_weights(
                    self.policies))</a>
                for e in self.workers.remote_workers():
                    e.set_weights.remote(weights, _get_global_vars())
        &#47&#47 Also update global vars of the local worker.
        self.workers.local_worker().set_global_vars(_get_global_vars())</code></pre>