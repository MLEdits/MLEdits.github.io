<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 we can go with reshape-based implementation for performance
            input_shape = self.input_shape
            x = K.reshape(X, (-1, ) + input_shape[2:])  &#47&#47 (nb_samples * timesteps, ...)
            y = <a id="change">self.layer(x, train=False)</a>  &#47&#47 (nb_samples * timesteps, ...)
            input_length = input_shape[1]
            if not input_length:
                input_length = K.shape(X)[1]</code></pre><h3>After Change</h3><pre><code class='java'>
                input_length = K.shape(X)[1]
            &#47&#47 (nb_samples, timesteps, ...)
            output_shape = self.get_output_shape_for(input_shape)
            y = K.reshape(y, (-1, input_length) + <a id="change">output_shape[2:]</a>)
        return y
</code></pre>